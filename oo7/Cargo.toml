# THIS FILE IS AUTOMATICALLY GENERATED BY CARGO
#
# When uploading crates to the registry Cargo will automatically
# "normalize" Cargo.toml files for maximal compatibility
# with all versions of Cargo and also rewrite `path` dependencies
# to registry (e.g., crates.io) dependencies.
#
# If you are reading this file be aware that the original Cargo.toml
# will likely look very different (and much more reasonable).
# See Cargo.toml.orig for the original contents.

[package]
edition = "2021"
rust-version = "1.75"
name = "oo7"
version = "0.3.0"
authors = [
    "Bilal Elmoussaoui",
    "Sophie Herold",
    "Maximiliano Sandoval",
]
exclude = ["org.freedesktop.Secrets.xml"]
description = "James Bond went on a new mission and this time as a Secret Service provider"
homepage = "https://github.com/bilelmoussaoui/oo7"
readme = "README.md"
keywords = [
    "keyring",
    "secret",
    "service",
    "portal",
    "keychain",
]
categories = [
    "os::linux-apis",
    "os",
    "api-bindings",
]
license = "MIT"
repository = "https://github.com/bilelmoussaoui/oo7"

[package.metadata.docs.rs]
features = ["unstable"]
rustc-args = [
    "--cfg",
    "docsrs",
]
rustdoc-args = [
    "--cfg",
    "docsrs",
    "--generate-link-to-definition",
]

[[example]]
name = "basic"
path = "examples/basic.rs"
required-features = ["tokio"]

[[example]]
name = "basic_2"
path = "examples/basic_2.rs"
required-features = ["tokio"]

[[example]]
name = "dbus_service"
path = "examples/dbus_service.rs"
required-features = ["tokio"]

[dependencies.aes]
version = "0.8"
features = ["zeroize"]
optional = true

[dependencies.async-fs]
version = "2.1.0"
optional = true

[dependencies.async-io]
version = "2.2.2"
optional = true

[dependencies.async-lock]
version = "3.2.0"
optional = true

[dependencies.blocking]
version = "1.5.1"
optional = true

[dependencies.cbc]
version = "0.1"
features = ["zeroize"]
optional = true

[dependencies.cipher]
version = "0.4"
features = [
    "rand_core",
    "zeroize",
]
optional = true

[dependencies.digest]
version = "0.10"
optional = true

[dependencies.futures-lite]
version = "2.1"
optional = true

[dependencies.futures-util]
version = "0.3"

[dependencies.hkdf]
version = "0.12"
optional = true

[dependencies.hmac]
version = "0.12"
optional = true

[dependencies.num]
version = "0.4.0"

[dependencies.num-bigint-dig]
version = "0.8"
features = ["zeroize"]

[dependencies.openssl]
version = "0.10"
optional = true

[dependencies.pbkdf2]
version = "0.12"
optional = true

[dependencies.rand]
version = "0.8"
default-features = false

[dependencies.serde]
version = "1.0"
features = ["derive"]

[dependencies.sha2]
version = "0.10"
optional = true

[dependencies.tokio]
version = "1.17"
features = [
    "sync",
    "fs",
    "io-util",
]
optional = true
default-features = false

[dependencies.tracing]
version = "0.1"
optional = true

[dependencies.zbus]
version = "4.0"
default-features = false

[dependencies.zeroize]
version = "1"
features = ["zeroize_derive"]

[dependencies.zvariant]
version = "4.0"
features = ["gvariant"]
default-features = false

[dev-dependencies.tokio]
version = "1.17"
features = [
    "macros",
    "rt-multi-thread",
]
default-features = false

[features]
async-std = [
    "zbus/async-io",
    "dep:async-fs",
    "dep:async-io",
    "dep:async-lock",
    "dep:blocking",
    "dep:futures-lite",
]
default = [
    "local_tests",
    "async-std",
    "native_crypto",
]
local_tests = []
native_crypto = [
    "aes",
    "cbc",
    "cipher",
    "digest",
    "hkdf",
    "hmac",
    "pbkdf2",
    "sha2",
]
openssl_crypto = ["openssl"]
tokio = [
    "zbus/tokio",
    "dep:tokio",
]
unstable = []
